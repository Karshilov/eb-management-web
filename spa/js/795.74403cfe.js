(self["webpackChunkeb_management_web"]=self["webpackChunkeb_management_web"]||[]).push([[795],{795:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>C});a(71);var o=a(3673),r=a(2323);const n={class:"page-center"},l={class:"header-statistic"},i=(0,o.Wm)("span",{style:{"font-size":"1.5rem"}},(0,r.zw)("全国共 "),-1),s={style:{"font-size":"2rem","font-weight":"600"}},c=(0,o.Wm)("span",{style:{"font-size":"1.5rem"}},(0,r.zw)(" 处房源"),-1);function d(t,e,a,d,u,y){const p=(0,o.up)("q-card"),h=(0,o.up)("q-btn"),f=(0,o.up)("q-page-scroller"),g=(0,o.up)("q-scroll-area"),m=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{style:{position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px"}},{default:(0,o.w5)((()=>[(0,o.Wm)("div",n,[(0,o.Wm)("div",l,[i,(0,o.Wm)("span",s,(0,r.zw)(t.whole.合租+t.whole.整租),1),c]),((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(t.keys,(t=>((0,o.wg)(),(0,o.j4)(p,{class:"echarts-card",key:t},{default:(0,o.w5)((()=>[(0,o.Wm)("div",{class:"echarts-container",id:t},null,8,["id"])])),_:2},1024)))),128)),(0,o.Wm)(f,{position:"bottom-right","scroll-offset":150,offset:[18,18]},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{fab:"",icon:"keyboard_arrow_up",color:"accent"})])),_:1})])])),_:1})])),_:1})}var u=a(1959),y=a(9350),p=a(1768);const h=t=>({backgroundColor:"#29333a",textStyle:{color:"rgba(255, 255, 255, 0.3)"},labelLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},title:{text:"城市房源分布图",left:"center",textStyle:{color:"rgba(255, 255, 255, 0.9)"}},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",textStyle:{color:"rgba(255, 255, 255, 0.8)"}},series:[{name:"房源归属地",type:"pie",radius:"55%",data:t,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)"}}}]}),f=t=>({xAxis:{type:"category",data:["整租","合租"]},yAxis:{type:"value"},backgroundColor:"#29333a",textStyle:{color:"rgba(255, 255, 255, 0.7)",fontSize:24},title:{text:"整合租房源对比",left:"center",textStyle:{color:"rgba(255, 255, 255, 0.9)"}},tooltip:{trigger:"item"},series:[{data:t,type:"bar"}]}),g=(t,e)=>({backgroundColor:"#29333a",textStyle:{color:"rgba(255, 255, 255, 0.7)",fontSize:24},title:{text:"房源面积分布图",left:"center",textStyle:{color:"rgba(255, 255, 255, 0.9)"}},xAxis:{type:"category",boundaryGap:!1,data:t},yAxis:{type:"value"},series:[{data:e,type:"line",areaStyle:{color:"#00896c"}}]});var m=function(t,e,a,o){function r(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,n){function l(t){try{s(o.next(t))}catch(e){n(e)}}function i(t){try{s(o["throw"](t))}catch(e){n(e)}}function s(t){t.done?a(t.value):r(t.value).then(l,i)}s((o=o.apply(t,e||[])).next())}))};const w=(0,o.aZ)({name:"audit-resources",setup(){const t=(0,u.iH)([]),e=(0,u.iH)({整租:0,合租:0}),a=(0,u.iH)([]);return{city:t,whole:e,area:a}},data(){return{keys:["city","whole","area"]}},created(){p.api.defaults.headers={"x-api-token":this.$store.state.userModule.apiToken}},mounted(){return m(this,void 0,void 0,(function*(){yield this.loadData(),this.drawCity(),this.drawWhole(),this.drawArea()}))},methods:{loadData(){return m(this,void 0,void 0,(function*(){const t=yield p.api.get("/rent/analysis"),e=t.data.success,a=t.data.reason,o=t.data.result;e?(this.city=o.city,this.whole=o.whole,this.area=o.area):this.$q.notify({type:"negative",message:a}),console.log(o)}))},drawCity(){const t=document.getElementById("city"),e=this.city.map((t=>({value:t.count,name:t.city})));if(t){console.log(e);let a=y.S1(t);a.setOption(h(e))}},drawWhole(){const t=document.getElementById("whole"),e=[this.whole.整租,this.whole.合租];if(t){let a=y.S1(t);a.setOption(f(e))}},drawArea(){const t=document.getElementById("area"),e=this.area.map((t=>t.lower.toString())),a=this.area.map((t=>t.count));if(t){let o=y.S1(t);o.setOption(g(e,a))}}}});var b=a(4379),x=a(7704),v=a(151),S=a(8835),k=a(4607),W=a(7518),_=a.n(W);w.render=d;const C=w;_()(w,"components",{QPage:b.Z,QScrollArea:x.Z,QCard:v.Z,QPageScroller:S.Z,QBtn:k.Z})}}]);